{"version":3,"sources":["assets/icon-error.svg","assets/icon-loader.svg","components/Button/index.tsx","components/LazyImage/index.tsx","components/Upload/index.tsx","components/Round/index.tsx","components/Results/index.tsx","components/RoundImage/index.tsx","services/classifier-service.ts","services/photos-service.ts","store/dog/index.ts","store/index.ts","store/dog/hook.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/icon-image.svg","assets/icon-upload.svg","assets/icon-next.svg","assets/icon-back.svg"],"names":["module","exports","Button","styled","button","props","variant","jello","keyframes","LazyImageElement","div","attrs","src","style","backgroundImage","animationDuration","Math","random","LazyImageWrapper","LazyImage","imageSource","setImageSource","useState","iconImage","ref","useRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","current","classList","add","rootMargin","threshold","observe","disconnect","UploadContainer","label","iconUpload","UploadInput","input","Upload","onChange","labelRef","addHover","removeHover","remove","addEventListener","removeEventListener","type","multiple","event","files","target","accept","animation","RoundWrapper","RoundTitle","h3","RoundPrev","iconBack","RoundNext","iconNext","Round","title","children","onBack","onNext","onClick","ResultsBreed","h1","ResultsButton","ResultsList","Results","results","breed","onReset","map","result","key","RoundImage","require","classifierService","model","Promise","async","resolve","reject","mobilenet","image","Image","className","classify","error","Error","photosService","fetchResult","fetch","message","json","ok","initialState","step","createAsyncThunk","_","getState","rejectWithValue","preview","dog","reducer","slice","createSlice","name","reducers","reset","setImage","payload","extraReducers","builder","addCase","pending","state","fulfilled","rejected","actions","combineReducers","dogReducer","store","configureStore","useDog","dispatch","useReactReduxDispatch","useSelector","URL","createObjectURL","searchPictures","Root","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.ac1908a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-error.b95df802.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-loader.791f0d34.svg\";","import styled from 'styled-components';\n\nconst Button = styled.button`\n  background-color: var(--orange);\n  border: none;\n  border-radius: 50%;\n  color: var(--white);\n  cursor: pointer;\n  font-family: var(--fontSanSerif);\n  font-size: ${(props: ButtonProps) => {\n    switch (props.variant) {\n      case 'secondary':\n        return '13px';\n      default:\n        return '20px';\n    }\n  }};\n  height: ${(props: ButtonProps) => {\n    switch (props.variant) {\n      case 'secondary':\n        return '70px';\n      default:\n        return '120px';\n    }\n  }};\n  text-transform: uppercase;\n  width: ${(props: ButtonProps) => {\n    switch (props.variant) {\n      case 'secondary':\n        return '70px';\n      default:\n        return '120px';\n    }\n  }};\n  &:hover {\n    background-color: var(--darkBrown);\n  }\n`;\n\ninterface ButtonProps {\n  variant?: 'primary' | 'secondary';\n}\n\nexport default Button;\n","import React, { useEffect, useState, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport iconImage from '../../assets/icon-image.svg';\n\nconst jello = keyframes`\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    transform: scale3d(1.10, 0.75, 1);\n  }\n\n  40% {\n    transform: scale3d(0.75, 1.10, 1);\n  }\n\n  50% {\n    transform: scale3d(1.13, 0.85, 1);\n  }\n\n  65% {\n    transform: scale3d(0.95, 1.05, 1);\n  }\n\n  75% {\n    transform: scale3d(1.05, 0.95, 1);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n  }\n`;\n\ninterface LazyImageProps {\n  src: string;\n}\n\nconst LazyImageElement = styled.div.attrs<LazyImageProps>(({ src }) => ({\n  style: {\n    backgroundImage: `url(${src})`,\n    animationDuration: `${Math.random()}s`,\n  },\n}))<LazyImageProps>`\n  background-color: var(--white);\n  background-position: center;\n  background-size: cover;\n  padding-bottom: 100%;\n  width: 100%;\n\n  &.jello {\n    animation-name: ${jello};\n    transform-origin: center;\n  }\n`;\n\nconst LazyImageWrapper = styled.div`\n  border: 25px solid var(--darkBrown);\n  border-radius: 50%;\n  overflow: hidden;\n`\n\nconst LazyImage: React.FC<LazyImageProps> = ({ src }): JSX.Element => {\n  const [imageSource, setImageSource] = useState<string>(iconImage);\n  const ref = useRef<HTMLImageElement>(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries): void => {\n        entries.forEach((entry): void => {\n          if (entry.intersectionRatio > 0 || entry.isIntersecting) {\n            setImageSource(src);\n            ref.current?.classList.add('jello');\n          }\n        });\n      },\n      {\n        rootMargin: '70%',\n        threshold: 0.01,\n      },\n    );\n    observer.observe(ref.current!);\n\n    return function cleanup() {\n      observer.disconnect();\n    };\n  }, [src]);\n\n  return (\n    <LazyImageWrapper>\n      <LazyImageElement src={imageSource} ref={ref} />\n    </LazyImageWrapper>\n  )\n};\n\nexport default LazyImage;\n","import React, { ChangeEvent, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\n\nimport iconUpload from '../../assets/icon-upload.svg';\n\nconst UploadContainer = styled.label`\n  background-image: url(${iconUpload});\n  background-position: center;\n  background-size: 90%;\n  border: 3px dashed var(--brown);\n  border-radius: 50%;\n  margin: 10px;\n  overflow: hidden;\n  transition: border-color 0.2s;\n  width: 100%;\n\n  &:hover,\n  &.UploadContainer--hover {\n    border: 6px dashed var(--orange);\n  }\n`;\n\nconst UploadInput = styled.input`\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\n\ninterface UploadProps {\n  onChange: (image: File) => unknown;\n}\n\nconst Upload: React.FC<UploadProps> = ({ onChange }): JSX.Element => {\n  const labelRef = useRef<HTMLLabelElement>(null);\n\n  const onFileChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { files } = event.target;\n\n    if (files === null) return;\n\n    onChange(files[0]);\n  };\n\n  const addHover = (): void => {\n    labelRef.current?.classList.add('UploadContainer--hover');\n  };\n\n  const removeHover = (): void => {\n    labelRef.current?.classList.remove('UploadContainer--hover');\n  };\n\n  useEffect(() => {\n    const div = labelRef.current;\n\n    if (div === null) return;\n\n    div.addEventListener('dragenter', addHover);\n    div.addEventListener('dragleave', removeHover);\n    div.addEventListener('drop', removeHover);\n\n    return (): void => {\n      div.removeEventListener('dragenter', addHover);\n      div.removeEventListener('dragleave', removeHover);\n      div.removeEventListener('drop', removeHover);\n    };\n  });\n\n  return (\n    <UploadContainer ref={labelRef}>\n      <UploadInput\n        type=\"file\"\n        multiple={false}\n        onChange={onFileChange}\n        accept=\"image/*\"\n      />\n    </UploadContainer>\n  );\n};\n\nexport default Upload;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { Button } from '..';\nimport iconNext from '../../assets/icon-next.svg';\nimport iconBack from '../../assets/icon-back.svg';\n\nconst animation = keyframes`\n\t0% {\n\t\tbox-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\n\t\ttransform: translate(-50%, -50%) scale(0.85);\n\t}\n\t70% {\n\t\tbox-shadow: 0 0 0 10px rgba(0, 0, 0, 0);\n\t\ttransform: translate(-50%, -50%) scale(1);\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n\t\ttransform: translate(-50%, -50%) scale(0.85);\n  }\n`;\n\nconst RoundWrapper = styled.div`\n  animation: ${animation} 2s linear infinite;\n  background-color: var(--white);\n  border: 25px solid var(--darkBrown);\n  border-radius: 50%;\n  display: flex;\n  height: 250px;\n  left: 50%;\n  position: fixed;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 250px;\n  justify-content: center;\n`;\n\nconst RoundTitle = styled.h3`\n  transform: translate(0%, -120%);\n  white-space: pre-wrap;\n  text-align: center;\n  color: var(--orange);\n  font-size: 60px;\n  line-height: 1;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n\n  @media only screen and (min-width: 768px) {\n    transform: translate(-50%, -50%) rotate(-25deg);\n    transform-origin: center;\n    top: 50%;\n    left: 50%;\n    white-space: nowrap;\n    \n    &::after {\n      background: var(--black);\n      content: '';\n      display: block;\n      height: 3px;\n      width: 100%;\n    }\n  }\n`;\n\nconst RoundPrev = styled(Button)`\n  background-image: url(${iconBack});\n  background-size: 80%;\n  background-position: center;\n  font-size: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  transform: translate(-50%, 50%);\n  z-index: 1;\n`\n\nconst RoundNext = styled(Button)`\n  background-image: url(${iconNext});\n  background-size: 80%;\n  background-position: center;\n  font-size: 0;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  transform: translate(50%, 50%);\n  z-index: 1;\n`\n\ninterface RoundProps {\n  title?: string\n  onBack?: Function\n  onNext?: Function\n}\n\nconst Round: React.FC<RoundProps> = ({ title, children, onBack, onNext }): JSX.Element => (\n  <RoundWrapper>\n    {onBack && (\n      <RoundPrev variant=\"secondary\" onClick={() => onBack()}>Previous</RoundPrev>\n    )}\n\n    {title && <RoundTitle>{title}</RoundTitle>}\n\n    {children}\n\n    {onNext && (\n      <RoundNext onClick={() => onNext()}>Next</RoundNext>\n    )}\n  </RoundWrapper>\n);\n\nexport default Round;\n","import React from 'react';\nimport LazyImage from '../LazyImage';\nimport Button from '../Button';\nimport styled from 'styled-components';\n\ninterface ResultsProps {\n  onReset: () => unknown;\n  breed: string;\n  results: string[];\n}\n\nexport const ResultsBreed = styled.h1`\n  background: var(--white);\n  border-radius: 40px;\n  bottom: 30px;\n  display: inline-flex;\n  height: 60px;\n  line-height: 56px;\n  margin: 0;\n  padding: 0 41px;\n  position: fixed;\n  right: 30px;\n  z-index: 1;\n`;\n\nexport const ResultsButton = styled(Button)`\n  margin-left: 20px;\n  margin-right: -10px;\n  margin-top: -5px;\n`;\n\nexport const ResultsList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  box-sizing: border-box;\n  justify-content: space-between;\n\n  & > * {\n    width: 41%;\n    margin-top: 4%;\n\n    @media only screen and (min-width: 768px) {\n      margin: 0;\n      box-sizing: border-box;\n      width: 22%;\n      margin-top: 4%;\n    }\n  }\n`;\n\n\nconst Results: React.FC<ResultsProps> = ({\n  results,\n  breed,\n  onReset,\n}): JSX.Element => {\n  return (\n    <div>\n      <ResultsBreed>\n        {breed}\n        <ResultsButton onClick={onReset} variant=\"secondary\">Cancel</ResultsButton>\n      </ResultsBreed>\n      <ResultsList>\n        {results.map((result) => (\n          <LazyImage key={result} src={result} />\n        ))}\n      </ResultsList>\n    </div>\n  );\n};\n\nexport default Results;\n","import styled from 'styled-components';\n\nconst RoundImage = styled.div.attrs<{ src: string }>(({ src }) => ({\n  style: {\n    backgroundImage: `url(${src})`,\n  },\n}))<{ src: string }>`\n  width: 100%;\n  background-size: cover;\n  border-radius: 50%;\n`\n\nexport default RoundImage","import * as mobilenet from '@tensorflow-models/mobilenet';\nrequire('@tensorflow/tfjs');\n\nvar classifierService = (function () {\n  var model: mobilenet.MobileNet;\n\n  return (src: string) =>\n    new Promise<string>(async (resolve, reject) => {\n      if (!model) {\n        model = await mobilenet.load();\n      }\n\n      const image = new Image();\n\n      image.addEventListener(\n        'load',\n        async function () {\n          try {\n            const [{ className: breed }] = await model.classify(image);\n            resolve(breed);\n          } catch (error) {\n            reject(error);\n          }\n        },\n        false,\n      );\n\n      image.addEventListener(\n        'error',\n        function () {\n          reject(new Error('Cannot load image'));\n        },\n        false,\n      );\n\n      image.src = src;\n    });\n})();\n\nexport default classifierService;\n","const photosService = async (breed: string): Promise<string[]> => {\n  const fetchResult = await fetch(`https://dog.ceo/api/breed/${breed}/images`);\n  const { message } = await fetchResult.json();\n\n  if (!fetchResult.ok) {\n    throw new Error(message);\n  }\n\n  return message;\n};\n\nexport default photosService;\n","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport { RootState } from '..';\nimport classifierService from '../../services/classifier-service';\nimport photosService from '../../services/photos-service';\n\ninterface DogState {\n  breed?: string;\n  error?: string;\n  preview?: string;\n  results?: string[];\n  step: 'loading' | 'upload' | 'preview' | 'results' | 'error';\n}\n\n\nexport const initialState = {\n  step: 'upload',\n} as DogState\n\n\nconst classify = createAsyncThunk<{ breed: string, results: string[] }, undefined, { state: RootState }>(\n  'dog/classify',\n  async (_, { getState, rejectWithValue }) => {\n    const { preview } = getState().dog\n    let breed\n    let results\n\n    try {\n      breed = await classifierService(preview!);\n      results = await photosService(breed);\n    } catch ({ message }) {\n      return rejectWithValue(message as string)\n    }\n\n    return {\n      breed,\n      results\n    };\n  }\n)\n\n\nconst { reducer, ...slice } = createSlice({\n  name: 'dog',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    setImage: (_, { payload: preview }: PayloadAction<string>) => ({\n      step: 'preview',\n      preview,\n    })\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(classify.pending, (state) => ({\n        ...state,\n        step: \"loading\"\n      }))\n    \n    builder\n      .addCase(classify.fulfilled, (state, { payload: { breed, results } }) => ({\n        ...state,\n        results,\n        breed,\n        step: \"results\"\n      }))\n    \n    builder\n      .addCase(classify.rejected, (state, { payload }) => ({\n        ...state,\n        error: payload as string,\n        step: 'error',\n      }))\n  }\n});\n\n\nconst actions = {\n  ...slice.actions,\n  classify\n}\n\n\nexport { reducer, actions };\n","import { configureStore } from '@reduxjs/toolkit'\nimport { combineReducers } from 'redux'\n\nimport { reducer as dogReducer } from './dog'\nimport { useDispatch as useReactReduxDispatch } from 'react-redux'\n\nconst reducer = combineReducers({\n  dog: dogReducer,\n});\n\nconst store = configureStore({\n  reducer,\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch;\n\nexport const useDispatch = () => useReactReduxDispatch<AppDispatch>();\n\nexport default store;","\nimport { useDispatch, RootState } from '..';\nimport { useSelector } from 'react-redux';\nimport { actions } from '.';\n\nconst useDog = () => {\n  const dispatch = useDispatch();\n\n  return {\n    step: useSelector((state: RootState) => state.dog.step),\n    breed: useSelector((state: RootState) => state.dog.breed),\n    error: useSelector((state: RootState) => state.dog.error),\n    preview: useSelector((state: RootState) => state.dog.preview),\n    results: useSelector((state: RootState) => state.dog.results),\n    reset: () => dispatch(actions.reset()),\n    setImage: (image: File) => {\n      const payload = URL.createObjectURL(image)\n      dispatch(actions.setImage(payload))\n    },\n    searchPictures: () => dispatch(actions.classify())\n  };\n};\n\nexport default useDog","import React from 'react';\n\nimport { Round, Upload, Results, RoundImage } from './components';\nimport useDog from './store/dog/hook';\n\nconst Root: React.FC = (): JSX.Element => {\n  const { step, error, reset, setImage, searchPictures, preview, results, breed } = useDog()\n\n\n  switch (step) {\n    case 'error':\n      return (\n        <Round title={error} onBack={reset}>\n          <RoundImage src={require('./assets/icon-error.svg')}/>\n        </Round>\n      )\n\n    case 'loading':\n      return (\n        <Round title=\"Loading the puppies...\">\n          <RoundImage src={require('./assets/icon-loader.svg')}/>\n        </Round>\n      )\n\n    case 'upload':\n      return (\n        <Round title=\"Drag &amp; Drop an image!\">\n          <Upload onChange={setImage} />\n        </Round>\n      )\n\n    case 'preview':\n      return (\n        <Round title=\"Do you want to proceed?\" onNext={searchPictures} onBack={reset}>\n          <RoundImage src={preview!} />\n        </Round>\n      )\n\n    case 'results':\n      return <Results results={results!} breed={breed!} onReset={reset} />;\n  }\n};\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/icon-image.083e2d25.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-upload.4fd60528.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-next.f5ca4058.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-back.25b103fc.svg\";"],"sourceRoot":""}